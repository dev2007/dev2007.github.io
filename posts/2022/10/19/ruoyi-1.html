<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>最火后台管理系统 RuoYi 项目探秘，之一 | 阿呜的边城-Awu&#39;s World</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/favicon/favicon.ico">
    <meta name="description" content="分享一切与开发编程以及开发者相关的文章。微信公众号：程序员爱读书">
    <meta name="keywords" content="开发者,程序员,程序猿,程序媛,极客,码农,编程,代码,软件开发,开源,IT网站,技术社区,Developer,Programmer,Coder,Geek,Coding,Code,阿呜的边程,阿呜的编程">
    <link rel="preload" href="/assets/css/0.styles.4630dd33.css" as="style"><link rel="preload" href="/assets/js/app.467e2829.js" as="script"><link rel="preload" href="/assets/js/7.4e539d82.js" as="script"><link rel="preload" href="/assets/js/57.d4ee3fcd.js" as="script"><link rel="prefetch" href="/assets/js/1.7e906b04.js"><link rel="prefetch" href="/assets/js/10.e0248698.js"><link rel="prefetch" href="/assets/js/12.e538132d.js"><link rel="prefetch" href="/assets/js/13.2a2f676b.js"><link rel="prefetch" href="/assets/js/14.214a405f.js"><link rel="prefetch" href="/assets/js/15.f38aa5fe.js"><link rel="prefetch" href="/assets/js/16.f1929af0.js"><link rel="prefetch" href="/assets/js/17.07d76279.js"><link rel="prefetch" href="/assets/js/18.d6db1d2b.js"><link rel="prefetch" href="/assets/js/19.84710e5e.js"><link rel="prefetch" href="/assets/js/2.7ac2fab1.js"><link rel="prefetch" href="/assets/js/20.f959fe80.js"><link rel="prefetch" href="/assets/js/21.2fd86fda.js"><link rel="prefetch" href="/assets/js/22.c77ef176.js"><link rel="prefetch" href="/assets/js/23.8a8ffe22.js"><link rel="prefetch" href="/assets/js/24.b6c2e323.js"><link rel="prefetch" href="/assets/js/25.6fd04512.js"><link rel="prefetch" href="/assets/js/26.2974a93c.js"><link rel="prefetch" href="/assets/js/27.7a62c283.js"><link rel="prefetch" href="/assets/js/28.f8974e73.js"><link rel="prefetch" href="/assets/js/29.cb3e8910.js"><link rel="prefetch" href="/assets/js/3.9254d7f5.js"><link rel="prefetch" href="/assets/js/30.bf6a36b7.js"><link rel="prefetch" href="/assets/js/31.5dec5686.js"><link rel="prefetch" href="/assets/js/32.8a42b4c0.js"><link rel="prefetch" href="/assets/js/33.83abd616.js"><link rel="prefetch" href="/assets/js/34.ee89ddca.js"><link rel="prefetch" href="/assets/js/35.23327e0c.js"><link rel="prefetch" href="/assets/js/36.d1398816.js"><link rel="prefetch" href="/assets/js/37.831600d9.js"><link rel="prefetch" href="/assets/js/38.71dccc31.js"><link rel="prefetch" href="/assets/js/39.9368b3e2.js"><link rel="prefetch" href="/assets/js/4.1a846bb9.js"><link rel="prefetch" href="/assets/js/40.96d1de0d.js"><link rel="prefetch" href="/assets/js/41.4bc03f21.js"><link rel="prefetch" href="/assets/js/42.c6c92807.js"><link rel="prefetch" href="/assets/js/43.89080e02.js"><link rel="prefetch" href="/assets/js/44.66cfb85b.js"><link rel="prefetch" href="/assets/js/45.a7e3d8ae.js"><link rel="prefetch" href="/assets/js/46.9d784267.js"><link rel="prefetch" href="/assets/js/47.88a828fd.js"><link rel="prefetch" href="/assets/js/48.a62bea2b.js"><link rel="prefetch" href="/assets/js/49.ea543004.js"><link rel="prefetch" href="/assets/js/5.96353e26.js"><link rel="prefetch" href="/assets/js/50.eba5af66.js"><link rel="prefetch" href="/assets/js/51.d274e43f.js"><link rel="prefetch" href="/assets/js/52.4443a52d.js"><link rel="prefetch" href="/assets/js/53.4112b49f.js"><link rel="prefetch" href="/assets/js/54.98363e68.js"><link rel="prefetch" href="/assets/js/55.87360021.js"><link rel="prefetch" href="/assets/js/56.e8482afd.js"><link rel="prefetch" href="/assets/js/58.69071d3d.js"><link rel="prefetch" href="/assets/js/59.67f1a597.js"><link rel="prefetch" href="/assets/js/6.8c198353.js"><link rel="prefetch" href="/assets/js/60.c40c582e.js"><link rel="prefetch" href="/assets/js/61.f1757ef1.js"><link rel="prefetch" href="/assets/js/62.13c89e9c.js"><link rel="prefetch" href="/assets/js/63.6ad00547.js"><link rel="prefetch" href="/assets/js/64.a2915c89.js"><link rel="prefetch" href="/assets/js/65.f3caf203.js"><link rel="prefetch" href="/assets/js/66.5f72902f.js"><link rel="prefetch" href="/assets/js/67.c5106e01.js"><link rel="prefetch" href="/assets/js/68.c0662345.js"><link rel="prefetch" href="/assets/js/69.67072028.js"><link rel="prefetch" href="/assets/js/70.19b64377.js"><link rel="prefetch" href="/assets/js/71.f52a0e24.js"><link rel="prefetch" href="/assets/js/8.b31a6a19.js"><link rel="prefetch" href="/assets/js/9.e4ce902a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4630dd33.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-meteorlxy"><header class="header" style="background-size:cover;background-repeat:no-repeat;background-position:center;background-attachment:scroll;background-image:url(/assets/img/cloud.jpg);" data-v-7a046aea><div data-v-e4145d0a data-v-7a046aea><nav class="navbar" data-v-e4145d0a><div class="container" data-v-e4145d0a><a href="/" class="router-link-active" data-v-e4145d0a><span class="navbar-site-name" data-v-e4145d0a>
          阿呜的边城-Awu's World
        </span></a> <div class="navbar-toggler" data-v-e4145d0a><svg class="icon" style="font-size:1.2em;" data-v-e4145d0a data-v-e4145d0a><title data-v-e4145d0a data-v-e4145d0a>menu</title><use xlink:href="#icon-menu" data-v-e4145d0a data-v-e4145d0a></use></svg></div> <div class="navbar-links" data-v-e4145d0a><a href="/" class="navbar-link" data-v-e4145d0a>
            程序员爱读书
          </a><a href="/posts/" class="navbar-link router-link-active" data-v-e4145d0a>
            文章列表
          </a><a href="https://github.com/dev2007" target="_blank" rel="noopener noreferrer" class="navbar-link" data-v-e4145d0a><span data-v-e4145d0a>GitHub</span> <span data-v-e4145d0a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><a href="https://micronaut.bookhub.tech" target="_blank" rel="noopener noreferrer" class="navbar-link" data-v-e4145d0a><span data-v-e4145d0a>Micronaut</span> <span data-v-e4145d0a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></div></nav> <div class="navbar-holder" style="display:none;" data-v-e4145d0a></div></div> <div class="banner" data-v-98d6aa8c data-v-7a046aea data-v-7a046aea><div class="container" data-v-98d6aa8c><div class="center" data-v-98d6aa8c><h1 data-v-98d6aa8c data-v-7a046aea>
          最火后台管理系统 RuoYi 项目探秘，之一
        </h1></div></div></div></header> <div class="container clearfix show-aside" data-v-4dd605a1 data-v-4dd605a1><main class="main" data-v-4dd605a1><div class="post" data-v-4dd605a1 data-v-4dd605a1><section class="post-meta main-div" data-v-4e23451f><section class="post-date clearfix" data-v-4e23451f><span class="create-date" data-v-4e23451f>
      发布时间 : 2022-10-19
    </span> <!----></section> <section class="post-links" data-v-4e23451f><a href="/posts/2022/10/12/redis-10-things.html" class="post-link" data-v-4e23451f>
      上一篇 : 云上使用 Redis？十件事必知！
    </a> <a href="/posts/2022/10/28/ruoyi-2.html" class="post-link" data-v-4e23451f>
      下一篇 : 最火后台管理系统 RuoYi 项目探秘，之二
    </a></section></section> <article class="main-div"><div class="post-content content content__default"><p>我们正在探秘各种比较火热的后台管理相关的开源项目，探秘结果将以系列文章的形式分享。希望你能在这些文章中学习别人的优点，也能看到别人的不足，进而可以提升自我的技术能力或技术态度，不论是提升了什么，只要你有收获即可。</p> <p>“你若不离不弃，我必生死相依”，是一句非常痴情的话，也常被人化用于孩子的名字，寄托父母美好的期望。</p> <p>今天要探的这个最火后台管理系统 RuoYi（若依），便是作者化用女儿的名字命名的项目。</p> <h2 id="项目介绍"><a href="#项目介绍" class="header-anchor">#</a> 项目介绍</h2> <p>RuoYi 主要在 <code>Gitee</code> 上维护，<code>GitHub</code> 也有同步项目，项目地址分别为：<a href="https://gitee.com/y_project/RuoYi" target="_blank" rel="noopener noreferrer">Gitee<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，<a href="https://github.com/yangzongzhuan/RuoYi" target="_blank" rel="noopener noreferrer">GitHub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>截止 2022.10.18，该项目版本为 <code>4.7.5</code>，在 Gitee 上收获点赞 <strong>3万2千5百</strong> 次，被&quot;抄作业&quot; <strong>1万7千3百</strong> 次，还被 <strong>5千2百</strong> 人关注；在 GitHub 上则收获点赞 <strong>3千</strong> 次，被&quot;抄作业&quot; <strong>988</strong> 次，还被 <strong>62</strong> 人关注。</p> <p>如此高的热度，一定是有它的原因的。今天我们便来一探究竟。</p> <h2 id="看装修"><a href="#看装修" class="header-anchor">#</a> 看装修</h2> <p>用 IDEA 打开项目后，目录结构如图：</p> <p><img src="/assets/img/ruoyi/1/1.JPG" alt="folder"></p> <p>其中纯目录如下：</p> <ul><li><code>.github</code>：隐藏的 GitHub 相关配置文件，打开一看，可以看到作者的恰饭链接。果然恰饭得随时恰才行。</li> <li><code>bin</code>：里面有三个脚本 <code>clean.bat</code>、<code>package.bat</code>、<code>run.bat</code>，应该是清理、打包和运行脚本。</li> <li><code>doc</code>：里面有一个 word 文档，名为 《若依环境使用手册.docx》。</li></ul> <p>子项目目录则分为：</p> <ul><li><code>ruoyi-admin</code>：见名识义，我们推测项目应该管理相关功能模块</li> <li><code>ruoyi-common</code>：此项目推测为常用工具类、基础组件相关模块</li> <li><code>ruoyi-framework</code>：此项目应该为核心框架层面</li> <li><code>ruoyi-generator</code>：此项目可能是一种生成器工具</li> <li><code>ruoyi-quartz</code>：<code>quartz</code>，照这个标准名字，推测此项目为定时器或定时任务相关模块</li> <li><code>ruoyi-system</code>：由于上面有 <code>framework</code> 项目了，推测此项目为一些非业务功能的底层模块</li> <li><code>sql</code>：项目的数据库、表定义及初始化数据 sql 文件。</li></ul> <p>另外根目录下还有两个脚本 <code>ry.bat</code> 和 <code>ry.sh</code>，由于上面 <code>bin</code> 目录中已有打包运行的整套脚本了，那么这两个脚本应该是 Windows 和 Linux 环境下的本地运行脚本。</p> <p>从目录整体看的话，项目拆分中规中矩，但是在根目录和 <code>bin</code> 目录中都有脚本，显得有点凌乱，对于刚打开项目的我来说，我会不太明白这些脚本的用途。如果根目录中放脚本，是为了方便调试时更快的找到脚本，但脚本并不比 IDEA 本身直接 Run/Debug 方便；如果是为了验证 jar 的运行情况，那其实倒可以归整到 <code>bin</code> 目录中，再在里面区分为子目录 <code>Release</code> 和 <code>Debug</code>。</p> <p>但一千人眼里有一千个哈姆雷特，我和作者的眼里也会有不同的设计考虑，没有对错之分，也许只是我没有领会到他的目的。</p> <h2 id="看菜单"><a href="#看菜单" class="header-anchor">#</a> 看菜单</h2> <p>表面的目录结构看完了，要了解一个项目，还需要知道它是怎么运行起来的，在项目根目录中我们看到一个老朋友 <code>pom.xml</code>，这个老朋友告诉我们：这个项目的包管理器是 Maven。那么打开这个 <code>pom.xml</code>，我们就知道项目有些什么东西，地道不地道了，到底是不是正经厨子的作品。</p> <p><code>pom.xml</code> 配置项折叠后：</p> <p><img src="/assets/img/ruoyi/1/2.JPG" alt="pom"></p> <p>像图中一样，我们将 <code>pom.xml</code> 二级子项折叠后，可以看到子项之间的空行有多有少，可能作者没有代码洁癖，但强迫症患者则会表示看着真难受。</p> <p>从第一部分项目基本信息中，如图：</p> <p><img src="/assets/img/ruoyi/1/3.JPG" alt="meta"></p> <p>可以看到，项目目前已是 <code>4.7.5</code> 版本，项目的网站地址为：<a href="http://www.ruoyi.vip" target="_blank" rel="noopener noreferrer">http://www.ruoyi.vip<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>第二部分的属性定义，如下图：</p> <p><img src="/assets/img/ruoyi/1/4.JPG" alt="properties"></p> <p>一般我们会将所有引用的包的版本信息都统一配置在 <code>properties</code>，所以直接看属性配置，基本就能掌握所有引用的包的信息。</p> <p>如图中所示，我们可以看到 <code>RuoYi</code> 项目中使用了并不太多的开源项目，正如项目描述中所说的一样“ 核心技术采用 Spring、MyBatis、Shiro，没有任何其它重度依赖”。确实如作者所说，这份硬菜里没有掺水。</p> <p>我们在属性中，首先就看到了 <code>Shiro</code>，项目整体的 RBAC 应该是基于 <code>Shiro</code> 构建的，接着，我们看到 <code>thymeleaf-extras-shiro</code>，这个是一个将 <code>Shiro</code> 与 <code>Thymeleaf</code> 相结合的工具，也说明当前主项目不是前后端分离的开发模式，前端 Web 界面还是使用模板引擎 <code>Thymeleaft</code> 解析的。</p> <p>再往下，我们看到 <code>Druid</code>，说明作者采用了 Alibaba 的 <code>Druid</code> 作为数据库连接池，Alibaba 早就把此项目捐赠给了 Apache，所以如果你搜索 <code>Druid</code>，最终一定会来到 Apache 的网站：<a href="https://druid.apache.org/" target="_blank" rel="noopener noreferrer">https://druid.apache.org/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>然后我们发现属性中有一个 <code>bitwalker.version</code>，这是项目中比较少见的一个组件，我们找一下对应的包，发现其为：<code>eu.bitwalker:UserAgentUtils</code>，官网为：<a href="https://www.bitwalker.eu/software/user-agent-utils" target="_blank" rel="noopener noreferrer">https://www.bitwalker.eu/software/user-agent-utils<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。官方介绍：“The user-agent-utils java library can be used to parse HTTP requests in real-time or to analyze log files and gather information about the user-agent”。意思就是说这个是用于处理浏览器 User-Agent 数据的工具组件。这个工具一般项目还是很少用的，不知道作者用它解决了什么问题。</p> <p>再往下，看到有一个 <code>kaptcha</code>，它所对应的是 <code>com.github.penggle:kaptcha</code>，项目地址为 <a href="https://github.com/penggle/kaptcha" target="_blank" rel="noopener noreferrer">https://github.com/penggle/kaptcha<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。这是一个验证码生成工具组件，但是这个项目发布的包是 2015 年发布了，7 年啦，孩子都上小学了。这个组件已经存在两个安全漏洞了，个人建议最好替换为更好用更安全的组件。</p> <p>下面是常规的用于 Restful API 文档生成的 <code>swagger</code>。还有操作数据库的“半 ORM”框架 <code>mybatis</code>，以及适配给 <code>mybatis</code> 用于分页查询的 <code>pagehelper</code>，这两者经常一起搭配使用，用于数据库层面常见的分页查询业务。</p> <p>在 <code>pagehelper</code> 下面，是我们绕不开的 json 工具组件，作者选用了 <code>fastjson</code>。<code>fastjson</code> 作为 Alibaba 的一个开源组件，特点在于操作 API 简洁，一般情况下性能比较好，但这几年 <code>fastjson</code> 爆了很多安全漏洞，而且对于稍微复杂一点的 json 需求无法解决，各家企业都开始去除 <code>fastjson</code>。建议为了项目的运行安全，如果可以的话，不要使用 <code>fastjson</code>，推荐还是使用老牌的 <code>com.fasterxml</code> 家的 <code>jackson</code>。</p> <p>接着，<code>properties</code> 配置中倒数还有几个组件。第一个 <code>oshi</code> 比较有趣，这个对应的组件为： <code>com.github.oshi:oshi-core</code>，这个组件项目地址为：<a href="https://github.com/oshi/oshi" target="_blank" rel="noopener noreferrer">https://github.com/oshi/oshi<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。这个组件用途是获取本地操作系统及硬件的信息，很好奇 RuoYi 用这个是实现了什么设计，道理上讲，不可能只是会了展示一下用户操作系统及硬件就完了。</p> <p>剩下的 <code>commons-io</code> 是我们常用的 I/O 工具组件，多用来处理文件的读写或者 URL 数据的解析等，项目地址:<a href="https://github.com/apache/commons-io" target="_blank" rel="noopener noreferrer">https://github.com/apache/commons-io<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>；而 <code>commons-fileupload</code> 是我们常用的文件上传工具组件，项目地址：<a href="https://github.com/apache/commons-fileupload" target="_blank" rel="noopener noreferrer">https://github.com/apache/commons-fileupload<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>；<code>poi</code> 则是常用的 Office 文件处理工具组件，作者选用了 <code>OOXML</code> 用于处理 Excel 表格文件，应该是有相应的业务需求，项目地址：<a href="https://github.com/apache/poi" target="_blank" rel="noopener noreferrer">https://github.com/apache/poi<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>以上这几个都是 Apache 的开源项目，Apache 的项目不一定是最好用的，但质量一定是有基本保证的。</p> <p>通过以上的分析过程，我们直接通过 <code>properties</code> 的定义就大概掌握了 RuoYi 项目所使用的开源组件的全貌。咦，等等，好像有一个很重要的遗漏了……是的，就是项目的核心框架 <code>Spring Boot</code> 遗漏了。我去……</p> <p>我去 <code>dependencies</code> 看看，第一个就是它。如图：</p> <p><img src="/assets/img/ruoyi/1/5.JPG" alt="dependencies"></p> <p>原来作者没有将 Spring Boot 的版本定义到 <code>properties</code> 里，属实有点怪异。建议有洁癖的人，还是把这些版本统一定义，要不然真的难受。我们可以看到作者使用的 Spring Boot 版本为 <code>2.5.14</code>，目前官方的最新版本为 <code>2.7.4</code>，作者先用的版本还是比较新的。</p> <h2 id="试吃"><a href="#试吃" class="header-anchor">#</a> 试吃</h2> <p>分析了 <code>pom.xml</code> 中的开源组件情况，大致相当于了解了一家饭店的拿手菜以及常用的烹饪技法。接下来我们就要开始试吃这家店，对于项目而言，我们现在就要先把项目运行起来，看看它的实际效果如何。</p> <p>我们去 <code>ruoyi-admin</code> 找一找，很快就可以找到启动类 <code>RuoYiApplication</code>，如图：</p> <p><img src="/assets/img/ruoyi/1/6.JPG" alt="startup"></p> <p>我们可以看到，这里面除一行注释掉的无用代码外，有一行启动代码，然后还有一个使用 <code>System.out.println</code> 在控制台输出的 banner 字符画。作者还是很有情调的。但感觉有点不对呢，Spring Boot 不是提供了标准的 banner 输出方式吗？作者可能会不知道？？我不信，赶紧找一找。果然有 <code>resources</code> 目录下发现 <code>banner.txt</code>。如图：</p> <p><img src="/assets/img/ruoyi/1/8.JPG" alt="bannder"></p> <p>果然作者是知道的，他就是想输出两个 banner！</p> <p>不过，对于有洁癖的人来说，无用的代码就不要保留了，显得很不干净。</p> <p>再细看一眼，咦，RuoYi 不是 Java 项目么，为啥这个一对大括号是前对齐呢，这不是 C# 的代码风格么？我去……</p> <p>我去快捷键格式化一下，再把注释代码移除一下，如图：</p> <p><img src="/assets/img/ruoyi/1/7.JPG" alt="format"></p> <p>舒服了。建议团队协作的开发者或者有洁癖的人，还是按语言特性对齐大括号，要不然风格不一致会让人感觉非常不适。</p> <p>一切准备就绪，点击 <code>Run</code>！翻滚吧，牛宝宝！！</p> <p>果然，正如以前经历的万千情况一样，数据库无法连接，乖乖按文档先把数据库建好，再次点击 <code>Run</code>！牛宝宝，翻滚吧！不行，翻滚前还要吐槽一下，为什么数据库的连接不能使用环境变量来动态指定，一定要写死成 <code>localhost:3306</code> 呢？算了，看看人家 <strong>3万</strong> 多的点赞，闭嘴吧。</p> <p>牛宝宝，重新翻滚！</p> <p>启动成功，控制台输出了作者的字符画，如图：</p> <p><img src="/assets/img/ruoyi/1/9.JPG" alt="startup1"></p> <p>访问 <code>http://localhost</code>，登录界面如图：</p> <p><img src="/assets/img/ruoyi/1/10.JPG" alt="starup2"></p> <p>登录进入系统后，系统整体界面如图：</p> <p><img src="/assets/img/ruoyi/1/11.JPG" alt="stratup3"></p> <p>我们可以看到，整个系统功能模块主要分为：</p> <ul><li><code>系统管理</code></li> <li><code>系统监控</code></li> <li><code>系统工具</code></li></ul> <p>这些功能模块的进一步探秘，我们将在下篇继续。</p> <h2 id="小结"><a href="#小结" class="header-anchor">#</a> 小结</h2> <p>本篇，我们初探了 RuoYi 项目的大体结构以及主要依赖的开源组件。RuoYi 项目结构划分中规中矩，核心开源组件是常见的 <code>Spring Boot</code>、<code>Shiro</code> 和 <code>MyBatis</code>，工具组件使用的基本是 Apache 家族的，还有个别比较老旧的小组件。大厂家的组件安全性有保证，我们如果自己开发项目，尽量选择大厂家的开源组件，并尽量选择安全漏洞少的组件，可以有效减少产品交付后由于安全漏洞导致的版本升级、安全补丁发布等事情。</p> <p>从 <code>pom.xml</code> 和 启动类，就可以看到作者的代码风格不好。建议项目开发中，我们要使用对应开发语言约定俗成的风格，并且我们还是要有点技术洁癖，不要在代码中用注释来保留那些没用的代码，毕竟 Git 就是帮我进行版本管理的工具。</p> <p>下一篇，将继续展开 RuoYi 项目的功能模块，并逐一细细品尝各个功能。本篇就到这里，比心，❤。</p></div></article> <section class="post-meta main-div" data-v-4e23451f><section class="post-date clearfix" data-v-4e23451f><span class="create-date" data-v-4e23451f>
      发布时间 : 2022-10-19
    </span> <!----></section> <section class="post-links" data-v-4e23451f><a href="/posts/2022/10/12/redis-10-things.html" class="post-link" data-v-4e23451f>
      上一篇 : 云上使用 Redis？十件事必知！
    </a> <a href="/posts/2022/10/28/ruoyi-2.html" class="post-link" data-v-4e23451f>
      下一篇 : 最火后台管理系统 RuoYi 项目探秘，之二
    </a></section></section> <!----></div></main> <aside class="aside" data-v-4dd605a1><div class="info-card main-div" data-v-9d847660 data-v-4dd605a1><div class="info-card-header" data-v-9d847660><img src="https://images.bookhub.tech/mp/avatar.jpg" alt="阿呜" class="info-avatar" data-v-9d847660></div> <div class="info-card-body" data-v-9d847660><section class="info-nickname" data-v-9d847660>
      阿呜
    </section> <section class="info-desc" data-v-9d847660>‍📢云原生框架 Micronaut 推广者<br/>☁️云计算从业者<br/>🌱高级软件工程师<br/>☘️系统架构师<br/>💻个人空间：<a href="https://luansheng.fun">https://luansheng.fun</a><br/>📱公众号：程序员爱读书</br><img src="https://images.bookhub.tech/mp/mp.png" width="60%"/></section> <section class="info-contact" data-v-9d847660><section data-v-9d847660><span title="中国·成都" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>中国·成都</title><use xlink:href="#icon-location" data-v-9d847660 data-v-9d847660></use></svg><span class="info-text" data-v-9d847660 data-v-9d847660>
          中国·成都
        </span></span></section> <section data-v-9d847660><span title="MortNon" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>MortNon</title><use xlink:href="#icon-organization" data-v-9d847660 data-v-9d847660></use></svg><span class="info-text" data-v-9d847660 data-v-9d847660>
          MortNon
        </span></span></section> <section data-v-9d847660><a href="mailto:mortnon@outlook.com" title="mortnon@outlook.com" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>mortnon@outlook.com</title><use xlink:href="#icon-email" data-v-9d847660 data-v-9d847660></use></svg><span class="info-text" data-v-9d847660 data-v-9d847660>
          mortnon@outlook.com
        </span></a></section></section></div> <div class="info-card-footer" data-v-9d847660><section class="info-sns clearfix" data-v-9d847660><a href="https://github.com/dev2007" target="_blank" class="sns-link" data-v-9d847660><span title="GitHub: dev2007" class="sns-icon" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1.5em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>GitHub: dev2007</title><use xlink:href="#icon-github" data-v-9d847660 data-v-9d847660></use></svg></span></a><a href="https://juejin.cn/user/2620868693599405" target="_blank" class="sns-link" data-v-9d847660><span title="掘金: dev2007" class="sns-icon" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1.5em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>掘金: dev2007</title><use xlink:href="#icon-juejin" data-v-9d847660 data-v-9d847660></use></svg></span></a></section></div></div> <div class="post-nav-card main-div" style="position:relative;top:0;width:0px;" data-v-4dd605a1><div class="post-nav-contents"><svg class="icon"><title>book</title><use xlink:href="#icon-book"></use></svg> <span>文章目录</span> <div class="post-nav-toc"><ul><li><a href="/posts/2022/10/19/ruoyi-1.html#项目介绍">项目介绍</a></li><li><a href="/posts/2022/10/19/ruoyi-1.html#看装修">看装修</a></li><li><a href="/posts/2022/10/19/ruoyi-1.html#看菜单">看菜单</a></li><li><a href="/posts/2022/10/19/ruoyi-1.html#试吃">试吃</a></li><li><a href="/posts/2022/10/19/ruoyi-1.html#小结">小结</a></li></ul></div></div> <!----></div></aside></div> <footer class="footer" data-v-1375e54c><p class="footer-sns-links" data-v-1375e54c><a href="https://github.com/dev2007" target="_blank" class="sns-link" data-v-1375e54c><span title="GitHub: dev2007" class="sns-icon" data-v-1375e54c data-v-1375e54c><svg class="icon" style="font-size:25px;" data-v-1375e54c data-v-1375e54c><title data-v-1375e54c data-v-1375e54c>GitHub: dev2007</title><use xlink:href="#icon-github" data-v-1375e54c data-v-1375e54c></use></svg></span></a><a href="https://juejin.cn/user/2620868693599405" target="_blank" class="sns-link" data-v-1375e54c><span title="掘金: dev2007" class="sns-icon" data-v-1375e54c data-v-1375e54c><svg class="icon" style="font-size:25px;" data-v-1375e54c data-v-1375e54c><title data-v-1375e54c data-v-1375e54c>掘金: dev2007</title><use xlink:href="#icon-juejin" data-v-1375e54c data-v-1375e54c></use></svg></span></a></p> <!----> <p class="footer-text" data-v-1375e54c><div style="display:flex;flex-direction:column"><span>&copy; 2022~2024 阿呜</span>
        <div style="display:flex;flex-direction:row;justify-content:center">
        <a href="https://beian.miit.gov.cn" target="_blank" style="color: rgb(102, 102, 102);" onmouseover="this.style.color='rgb(30, 144, 255)'" onmouseout="this.style.color='rgb(102,102,102)'">蜀ICP备2024097210号</a>
        <div style="display:flex;align-items:center;margin-left:8px">
        <img src="logo01.png" style="width:16px;height:16px">
        <a href="https://beian.mps.gov.cn/#/query/webSearch?code=51018002000252" target="_blank" style="color: rgb(102, 102, 102);" onmouseover="this.style.color='rgb(30, 144, 255)'" onmouseout="this.style.color='rgb(102,102,102)'">川公网安备51018002000252号</a>
        </div>
        </div></div></p></footer></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.467e2829.js" defer></script><script src="/assets/js/7.4e539d82.js" defer></script><script src="/assets/js/57.d4ee3fcd.js" defer></script>
  </body>
</html>
